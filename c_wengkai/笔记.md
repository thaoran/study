# c语言翁凯

## 计算

### 变量赋值与初始化

> <类型名称><变量名称>;  
> 标识符:字母\数字\下划线,数字不能放第一个位置  

* 赋值和初始化
* 所有变量在第一次被使用(出现在赋值运算符右边)之前都应该被赋值一次
* 如果没有初始化,则变量可以为内存中的任意一个地方的值

> 变量初始化: <类型名称><变量名称>=<初始值>;

```c
int a=0;
int b=12;
//或者
int a=0,b=12;//组合变量定义

int a = 2;
int b = 100 - a;
```

* c是一种有类型的语言,所有变量在使用之前必须定义和声明
* 所有变量必须有确定的数据类型
* 程序运行过程不能改变变量的类型
* C99可以在程序任意位置定义变量

### scanf(Scan Format)函数(stdio.h)

```c
    scanf("%d",&price);//读入下一个整数,结果赋值给price
    //读入的变量前要加&
    scanf("%d%d",&a,&b);
    //输入时，在两个数据之间可以用一个或多个空格、tab 键、回车键分隔
    //如果使用 "," 来分隔输入的 %d, 相应的输入时也需要添加","
    scanf("%d,%d",&a,&b);
    //输入时 , 前一定要紧跟在数字后面，数字与 , 之间不能有空格。
    scanf("price%d%d",&a.&b);
```

* 在用 %c 输入时，空格和"转义字符"均作为有效字符。

```c
    char a,b,c;
    scanf("%c%c%c",&a,&b,&c);
    //请输入三个字符：r u n
    //r, ,u
}

```

### 常量和变量

* 常量

> const是一个修饰符,表示这个变量的值一旦被初始化,就不能被修改了.(只读)  
> const int a = 10;

### 浮点数

>两个整数的运算结果只能是整数  
>10和10.0是两个完全不同的数  
>10.0是浮点数
>double 双精度浮点数

* 整数
  * int
  * printf("%d",...);
  * scanf("%d",...);
* 带小数点的数
  * double
  * printf("%f",...);
  * scanf("%lf",...);

### 运算符和算子

运算符 | 意义
:----:|:---:
= = | 相等
!= | 不相等
|> | 大于
|>= | 大于或等于
< | 小于
<= | 小于或等于

* 算子:参与运算的值
* /:整除,%:取余

### 运算符优先级

优先级|运算符|运算|结合关系|举例
:----:|:---:|:---:|:---:|:---:
1 |+ |单目不变|?自右向左|a*+b
1 |－ |单目取负|自右向左|a*-b
2 |* |乘|自左向右|a*b
2 |/ |除|自左向右|a/b
2 |% |取余|自左向右|a%b
3 |+ |加|自左向右|a+b
3 |- |减|自左向右|a-b
4 |= |赋值|自右向左|a=b

* 所有关系运算符的优先级比算数运算符的低，但是比赋值运算的高
* 7>=3+4
* int r = a>0;
* 判断是否相等的==和!＝的优先级比其他的低，
* 而连续的关系运算是从左到右进行的

### 复合赋值符

* 5个算术运算符，+ - * / %，可以和赋值运
算符“=”结合起来，形成复合赋值运算符
：“+=”、“-=”、“*=”、“/=”和“%=”
* total += 5;
* total = total + 5;
* 注意两个运算符中间不要有空格

> ++和--可以放在变量的前?面，叫做前缀形
式，也可以放在变量的后?面，叫做后缀形式。  
> a++的值是a加1以前的值，?而++a的值是加
了1以后的值，?无论哪个，a?自?己的值都加了1了。

## 判断

### 找零计算器

```c
// 初始化  
int price = 0;
// 读入金额和票面  
printf("请输入金额：");  
scanf("%d",&price);
printf("请输入票面：");  
scanf("%d",&bill);
// 计算找零  
if ( bill >= price) {
    printf("应该找您：%d\n",bill - price);
} else {
    printf("你的钱不够\n");
}
```

### if语句再探

* if语句这一行结束的时候并没有表示语句结束的“;”,而后面的赋值语句写在if的下一行,并且缩进了,在这一行结束的时候有一个表示语句结束的“;”。这表明这条赋值语句是if语句的一部分,if语句拥有和控制这 条赋值语句,决定它是否要被执行。

```c
if ( total > amount )
    total += amount+10;
```

### 嵌套的判断

* 当if的条件满?足或者不满?足的时候要执?行的语句也可以是?一条if或if-else语句，这就是嵌套的if语句

```C
if ( code == READY )
    if ( count <20 )
        printf("一切正常\n");
    else
        printf("继续等待\n"); //else和最近的if匹配
```

### else的匹配

* else总是和**最近**的那个if匹配（**加了大括号就不一定了**）

```c
if ( code == READY )
    if ( count <20 ) {
        printf("一切正常\n");
    }else
        printf("继续等待\n"); //当code == READY时不再执行else,直接跳到return 0
return 0；
```

### 缩进

* 缩进格式不能暗示else的匹配
  
```C
if ( code == READY )
    if ( count <20 )
        printf("一切正常\n");
else
    printf("继续等待\n"); //else和最近的if匹配
```

### 嵌套的if

```c  
if( gameover == 0 )  
    if ( player2move == 2 )
        printf("Your turn\n");
    else    //对应第二个if
        printf("My turn\n");
else //对应第一个if
printf("GAME OVER\n");
```

### 级联的if-else的书写方式

* 所有else对齐――级联――书写整洁

```c
if ( exp1 )
  st1;
else if ( exp2 ) //对应第一个if
  st2;
else //对应第二个if
```

![11](https://raw.githubusercontent.com/thaoranpicture/picture/master/pictures/%E5%8D%95%E4%B8%80%E5%87%BA%E5%8F%A3.png)  

* 左边为单一出口更好，右边将输出写死了

### 常见错误

* if后面不能有；
* 错误使用=（赋值）和==（判断）
* if里只要求（）里的值是零或非零

### switch-case

```c
switch ( 控制表达式 ) {
case 常量:
语句
……
case 常量:
语句
……
default:
语句
……
}
```

* 控制表达式只能是整数型的结果
* 常量可以是常数，也可以是常数计算的表达式(整除)
* 根据表达式的结果，寻找匹配的case，并执?行case后?面的语句，?一直到break为?止
* 如果所有的case都不匹配，那么就执?行default后?面的语句；如果没有default，那么就什么都不做

```c
//分段函数
//f(x)=-1;x<0
//     0;x=0
//     2x;x>0
int t = (x > 0);
switch (t)
{
case 1:y = 2 * x; break;
case 0:
  switch (x)
  {
  case 0:y = 0; break;
  default:y = -1; break;
  }
  break;
}
```
